{"version":3,"sources":["video.js"],"names":["Video","el","$","attr","onLoad","onPlay","onUpdate","onEnd","hasClass","VideoPromise","play","then","Duration","duration","showFirstScreen","catch","console","log","error","addEventListener","e","addClass","countTo","speed","parseInt","time"],"mappings":";;;;;;IAAMA,K;AACL,gBAAYC,EAAZ,EAAe;AAAA;;AACd,OAAKD,KAAL,GAAaC,EAAb;;AAEAC,IAAE,KAAKF,KAAP,EAAcG,IAAd,CAAmB,KAAnB,EAA0BD,EAAE,KAAKF,KAAP,EAAcG,IAAd,CAAmB,UAAnB,CAA1B;;AAGA,OAAKC,MAAL;;AAEA,OAAKC,MAAL;;AAEA,OAAKC,QAAL;;AAEA,OAAKC,KAAL;AACA;;;;2BAaO;AAAA;;AACP;;AAEA,OAAI,CAACL,EAAE,MAAF,EAAUM,QAAV,CAAmB,OAAnB,CAAL,EAAiC;AAChC,QAAIC,eAAe,KAAKT,KAAL,CAAWU,IAAX,EAAnB;;AAEAD,iBAAaE,IAAb,CAAkB,aAAK;AACtB,WAAKC,QAAL,GAAgB,MAAKZ,KAAL,CAAWa,QAA3B;AACA,WAAKC,eAAL;AACA,KAHD,EAGGC,KAHH,CAGS,iBAAS;AACjBC,aAAQC,GAAR,CAAYC,KAAZ;AACA,KALD;AAMA,IATD,MAUC,KAAKlB,KAAL,CAAWmB,gBAAX,CAA4B,MAA5B,EAAoC,YAAM;AACzC,WAAM,CAAC,MAAKnB,KAAL,CAAWa,QAAlB;AACC,WAAKD,QAAL,GAAgB,MAAKZ,KAAL,CAAWa,QAA3B;AADD,KAGA,MAAKC,eAAL;AACA,IALD;AAMD;;;2BACO;AAAA;;AACP,QAAKd,KAAL,CAAWmB,gBAAX,CAA4B,gBAA5B,EAA8C,YAAK;AAClD,WAAKd,MAAL;;AAEA,WAAKC,QAAL;;AAEA,WAAKC,KAAL;;AAEA,WAAKP,KAAL,CAAWU,IAAX;AACA,IARD;AASA;;;6BACS;AACT,QAAKV,KAAL,CAAWmB,gBAAX,CAA4B,YAA5B,EAA0C,YAAM,CAE/C,CAFD;AAGA;;;0BACM;AACN,QAAKnB,KAAL,CAAWmB,gBAAX,CAA4B,OAA5B,EAAqC,UAACC,CAAD,EAAO;AAC3ClB,MAAE,kBAAF,EAAsBmB,QAAtB,CAA+B,SAA/B;AACA,IAFD;AAGA;;;oCACgB;AAChBnB,KAAE,wBAAF,EAA4BoB,OAA5B,CAAoC;AACnCC,WAAOC,SAAS,KAAKZ,QAAL,GAAc,GAAvB,KAA+B;AADH,IAApC;;AAIAV,KAAE,aAAF,EAAiBmB,QAAjB,CAA0B,cAA1B;AACA;;;oBA3DSpB,E,EAAG;AACZ,QAAKA,EAAL,GAAUA,EAAV;AACA,G;sBACU;AACV,UAAO,KAAKA,EAAZ;AACA;;;oBACYwB,I,EAAK;AACjB,QAAKZ,QAAL,GAAgBY,IAAhB;AACA,G;sBACa;AACb,UAAO,KAAKZ,QAAZ;AACA;;;;;;AAmDFX,EAAE,aAAI;AACL,KAAIF,KAAJ,CAAUE,EAAE,mBAAF,EAAuB,CAAvB,CAAV;AACA,CAFD","file":"video.js","sourcesContent":["class Video{\r\n\tconstructor(el){\r\n\t\tthis.Video = el;\r\n\r\n\t\t$(this.Video).attr(\"src\", $(this.Video).attr(\"data-src\"));\r\n\t\t\r\n\r\n\t\tthis.onLoad();\r\n\r\n\t\tthis.onPlay();\r\n\r\n\t\tthis.onUpdate();\r\n\r\n\t\tthis.onEnd();\r\n\t}\r\n\tset Video(el){\r\n\t\tthis.el = el;\r\n\t}\r\n\tget Video(){\r\n\t\treturn this.el;\r\n\t}\r\n\tset Duration(time){\r\n\t\tthis.duration = time;\r\n\t}\r\n\tget Duration(){\r\n\t\treturn this.duration;\r\n\t}\r\n\tonPlay(){\r\n\t\t// this.Video.addEventListener()\r\n\r\n\t\tif (!$(\"html\").hasClass(\"bx-ie\")){\r\n\t\t\tlet VideoPromise = this.Video.play();\r\n\r\n\t\t\tVideoPromise.then(e => {\r\n\t\t\t\tthis.Duration = this.Video.duration;\r\n\t\t\t\tthis.showFirstScreen();\r\n\t\t\t}).catch(error => {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t});\r\n\t\t}else\r\n\t\t\tthis.Video.addEventListener(\"play\", () => {\r\n\t\t\t\twhile(!this.Video.duration)\r\n\t\t\t\t\tthis.Duration = this.Video.duration;\r\n\t\t\t\t\r\n\t\t\t\tthis.showFirstScreen();\r\n\t\t\t});\r\n\t}\r\n\tonLoad(){\r\n\t\tthis.Video.addEventListener(\"loadedmetadata\", () =>{\r\n\t\t\tthis.onPlay();\r\n\r\n\t\t\tthis.onUpdate();\r\n\r\n\t\t\tthis.onEnd();\r\n\r\n\t\t\tthis.Video.play();\r\n\t\t});\r\n\t}\r\n\tonUpdate(){\r\n\t\tthis.Video.addEventListener(\"timeupdate\", () => {\r\n\r\n\t\t})\r\n\t}\r\n\tonEnd(){\r\n\t\tthis.Video.addEventListener(\"ended\", (e) => {\r\n\t\t\t$(\".video-text__btn\").addClass(\"visible\");\r\n\t\t})\r\n\t}\r\n\tshowFirstScreen(){\r\n\t\t$(\".video-projects__count\").countTo({\r\n\t\t\tspeed: parseInt(this.Duration*950) || 9500\r\n\t\t});\r\n\r\n\t\t$(\".video-text\").addClass(\"js__animated\");\r\n\t}\r\n}\r\n\r\n$(e =>{\r\n\tnew Video($(\".main-video video\")[0])\r\n});"]}